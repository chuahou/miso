<!DOCTYPE html>
<html>
	<head>
		<title>CP, Synchronization | chuahou.dev</title>

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- KaTeX -->
		<link rel="stylesheet" href="../../../katex/katex.min.css">
		<script defer src="../../../katex/katex.min.js"></script>
		<script defer src="../../../katex/contrib/auto-render.min.js"></script>

		<link rel="stylesheet" type="text/css" href="../../../css/latex.css">
		<link rel="stylesheet" type="text/css" href="../../../css/default.css">

		

		
	</head>
	<body>
		
		<div id="header">
			<h1 id="CP, Synchronization" class="title">CP, Synchronization</h1>
			<p style="text-align:center; font-size:0.9em">
				<code>
					&dollar; cd
					<a href="https://chuahou.dev/miso/">/</a>
					<a href="..">..</a>
				</code>
			</p>
		</div>
		

		
		<div class="side">
			<p><a href="#">To page top</a></p>
		</div>
		

		<!-- Generated body starts here -->
		<main>
		<div id="toc">

</div>
<ul>
<li>[8.2] <a href="basics.html"><em>Data-parallel</em></a> programming synced in <em>rounds</em>.
<ul>
<li>[8.3] Used when shared variables written by some threads in a round need to be read by other threads in next round.</li>
<li>[8.14] Also used when <a href="message.html">message-passing</a> in rounds.</li>
</ul></li>
<li>[8.5] <strong>Barrier synchronization</strong> for <span class="math inline">\(p\)</span> threads using <a href="https://www.cs.ox.ac.uk/teaching/materials20-21/concurrentprogramming/doc/io/threadcso/lock/Barrier.html"><code>Barrier(p)</code></a> (<span class="math inline">\(\mathcal O(p)\)</span>)
<ul>
<li><code>barrier.sync()</code> blocks till all <span class="math inline">\(p\)</span> threads call it.</li>
<li>[8.25] <a href="https://www.cs.ox.ac.uk/teaching/materials20-21/concurrentprogramming/doc/io/threadcso/lock/CombiningBarrier.html"><code>CombiningBarrier[T](p, e: T, f: (T, T) =&gt; T)</code></a>
<ul>
<li><code>sync(t: T)</code> returns <code>fold f e</code> on <code>t</code>s</li>
<li>Associative/commutative <code>f</code> and identity <code>e</code></li>
<li>[8.26] <a href="https://www.cs.ox.ac.uk/teaching/materials20-21/concurrentprogramming/doc/io/threadcso/lock/AndBarrier.html"><code>AndBarrier &lt;: CombiningBarrier[Boolean]</code></a></li>
</ul></li>
</ul></li>
<li>[8.3] 2 methods
<ul>
<li>2 syncs
<ol>
<li>Read globals into locals, then <code>sync()</code></li>
<li>Write to non-overlapping globals, then <code>sync()</code></li>
</ol></li>
<li>Single sync
<ol>
<li>2 copies of shared variables</li>
<li>Read from 1st copy and write to 2nd copy</li>
<li><code>sync()</code>, then swap references</li>
</ol></li>
</ul></li>
</ul>
		</main>
		<!-- Generated body ends here -->

		<p style="margin-top:3em; font-size:0.7em">Copyright &copy; 2021 Chua Hou.</p>

		<script type="text/javascript">
			document.addEventListener("DOMContentLoaded", function() {
				renderMathInElement(document.body, {
					throwOnError: true
				});
			});
		</script>
		<script src="../../../js/collapse.js"></script>
	</body>
</html>
